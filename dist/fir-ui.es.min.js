/*!
 * fir-ui v0.16.1
 * (c) 2018-present fjc0k <fjc0kb@gmail.com>
 * Released under the MIT License.
 */
import _toString from"lodash/toString";import _isArray from"lodash/isArray";import _forOwn from"lodash/forOwn";import createElement from"vue-css-modules/lib/create-element";import _isNumber from"lodash/isNumber";import _upperFirst from"lodash/upperFirst";import _reduce from"lodash/reduce";import _isObjectLike from"lodash/isObjectLike";import _isFunction from"lodash/isFunction";import betterSync from"vue-better-sync";import _isBoolean from"lodash/isBoolean";import CSSModules from"vue-css-modules";import _isString from"lodash/isString";import _toNumber from"lodash/toNumber";import _range from"lodash/range";import _fill from"lodash/fill";import _findLastIndex from"lodash/findLastIndex";import _findIndex from"lodash/findIndex";import _isNil from"lodash/isNil";import _clone from"lodash/clone";import BScroll from"better-scroll";import _isEmpty from"lodash/isEmpty";import _isNaN from"lodash/isNaN";import _mapValues from"lodash/mapValues";import _has from"lodash/has";import autoSize from"autosize";import _castArray from"lodash/castArray";function genFunctionalData(){for(var e,t={},n=arguments.length;n--;)_forOwn(arguments[n],function(n,i,s){if(n)switch(i){case"class":case"style":case"directives":_isArray(t[i])||(t[i]=[]),t[i]=t[i].concat(n);break;case"staticClass":e=_toString(n).trim(),t[i]?t[i]+=" "+e:t[i]=e;break;case"attrs":case"props":case"domProps":case"scopedSlots":case"staticStyle":case"hook":case"transition":t[i]||(t[i]={}),t[i]=Object.assign({},n,t[i]);break;case"on":case"nativeOn":t[i]||(t[i]={}),_forOwn(n,function(e,n){t[i][n]?t[i][n]=[].concat(t[i][n],e):t[i][n]=e});break;default:t[i]||(t[i]=s[i])}});return t}var VNodeType={type:null,vnode:!0},styles={svg:"f-3z2",icon:"f-23m"},Icon={name:"f-icon",functional:!0,props:{name:{type:String,required:!0}},render:function(e,t){var n=t.props,i=t.data;e=createElement(e,styles,n);var s=n.name,a="$"===s[0];return s=a?s.substr(1):s,a?e("i",genFunctionalData(i,{styleName:"@svg"}),[e("svg",[e("use",{attrs:{"xlink:href":"#"+s}})])]):e("i",genFunctionalData(i,{styleName:"@icon",staticClass:s}))}},styles$1={button:"f-1c- f-m9L",icon:"f-2v8",plain:"f-2Hh",mini:"f-fzM",inline:"f-2XV f-vFB",disabled:"f-GhS","white-space":"f-1CC",default:"f-21t",primary:"f-3E-",success:"f-3eo",warning:"f-20p",danger:"f-rlQ",info:"f-1N5"},BUTTON_TYPES=["default","primary","success","warning","danger"],button={name:"f-button",functional:!0,props:{type:{type:String,default:BUTTON_TYPES[0],validtor:function(e){return BUTTON_TYPES.indexOf(e)>=0}},icon:String,mini:Boolean,plain:Boolean,inline:Boolean,disabled:Boolean,whiteSpace:Boolean},render:function(e,t){var n=t.props,i=t.data,s=t.children;e=createElement(e,styles$1,n);var a=n.icon&&e(Icon,{styleName:"@icon",attrs:{name:n.icon}});return e("a",genFunctionalData(i,{styleName:"@button $type :mini :plain :inline :disabled :white-space",attrs:{href:"javascript:;"}}),[a].concat(s||[]))}},adjustZIndex=function(e){return{props:{zIndex:Number},data:function(){return{useCustomZIndex:!1,customZIndex:e++}},computed:{localZIndex:function(){return this.useCustomZIndex||!_isNumber(this.zIndex)?this.customZIndex:this.zIndex}},methods:{getZIndex:function(){return this.localZIndex},setZIndex:function(e){this.customZIndex=e,this.useCustomZIndex=!0}}}},customRenderer=function(e){return _reduce(e,function(e,t,n){var i="render"+_upperFirst(n);return e.props[i]=Function,e.methods["$"+i]=function(){return(this[i]||this.$scopedSlots[n]||t).apply(this,arguments)},e},{props:{},methods:{}})},VNodeType$1={type:null,vnode:!0},normalizePropVNode=function(e){return _isObjectLike(e)?e:_toString(e)},extractVNodes={VNodeType:VNodeType$1,computed:{VNodeProps:function(){return this.extractVNodeProps()}},methods:{extractVNodeProps:function(e){return void 0===e&&(e=this.$options.props),_reduce(e,function(e,t,n){return t.vnode&&e.push([n,t.slot||n]),e},[])},extractVNodes:function(e){var t=void 0===e?{}:e,n=t.VNodeProps,i=void 0===n?this.VNodeProps:n,s=t.slots,a=void 0===s?this.$slots:s,o=t.props,r=void 0===o?this.$props:o;return i.reduce(function(e,t){var n=t[0],i=t[1];return e[n]=a[i]||a[n]||normalizePropVNode(r[n]),e},{children:a.default})}}},toggleVisibility=function(e,t){return{mixins:[betterSync(t&&{prop:"visible",event:"change"})],props:{visible:{type:Boolean,default:e,sync:!0}},methods:{beforeSyncVisible:function(e,t,n){var i=this,s=t?"Show":"Hide",a="before"+s,o="after"+s;(_isFunction(this[a])?this[a]:function(e){return e()})(function(){n(),_isFunction(i[o])&&i.$nextTick(i[o])})},show:function(){this.syncVisible(!0)},hide:function(){this.syncVisible(!1)},toggle:function(){this.syncVisible(!this.localVisible)}}}},styles$2={choice:"f-1sZ f-1wz",box:"f-2G7",selected:"f-28u",input:"f-oRD"},CHECKBOX=1,RADIO=2,AGREE=3,choice={name:"f-choice",alias:["f-checkbox","f-radio"],mixins:[CSSModules(styles$2),customRenderer({box:function(e){var t=e.selected;return this.$createElement(Icon,{attrs:{name:t?this.localSelectedIcon:this.localIcon}})}}),betterSync({prop:"selectedValue",event:"change"})],props:{selectedValue:{type:null,sync:!0},value:null,icon:String,selectedIcon:String},computed:{type:function(){var e=this.localSelectedValue;return _isBoolean(e)?AGREE:_isArray(e)?CHECKBOX:RADIO},nativeType:function(){return this.type===RADIO?"radio":"checkbox"},localIcon:function(){return this.icon||(this.type===RADIO?"f-icon-radiobox":"f-icon-checkbox")},localSelectedIcon:function(){return this.selectedIcon||(this.type===RADIO?"f-icon-radiobox-checked":"f-icon-checkbox-checked")},selected:function(){var e=this.type,t=this.localSelectedValue,n=this.value;return e===CHECKBOX?t.indexOf(n)>=0:t===n}},methods:{handleChange:function(e){var t,n=e.target.checked,i=this.type,s=this.localSelectedValue,a=this.value;i===CHECKBOX?(t=s.slice(),n?t.push(a):t.splice(t.indexOf(a),1)):t=i===AGREE?n:a,this.syncSelectedValue(t)}},render:function(e){return e("label",{styleName:"@choice :selected"},[e("input",{styleName:"input",attrs:{type:this.nativeType},domProps:{checked:this.selected},on:{change:this.handleChange}}),e("div",{styleName:"box"},[this.$renderBox({selected:this.selected})]),this.$slots.default])}},styles$3={divider:"f-xyS f-m9L",inner:"f-35o f-m9L",body:"f-3FL",line:"f-1_8"},divider={name:"f-divider",functional:!0,props:{color:String,width:String},render:function(e,t){var n=t.props,i=t.data,s=t.children;e=createElement(e,styles$3,n);var a=n.width&&{width:n.width},o={color:n.color};return e("div",genFunctionalData(i,{styleName:"@divider"}),[e("div",{styleName:"inner",staticStyle:a},[e("div",{styleName:"line",staticStyle:o}),e("div",{styleName:"body"},[s]),e("div",{styleName:"line",staticStyle:o})])])}},styles$4={top:"f-EBU",bottom:"f-2Ze",left:"f-WJM",right:"f-1Bk",hairline:"f-3L6"},PLACEMENT_PROPS={top:Boolean,right:Boolean,bottom:Boolean,left:Boolean},PLACEMENTS=Object.keys(PLACEMENT_PROPS),Hairline={name:"f-hairline",functional:!0,props:Object.assign({tag:{type:String,default:"div"},color:String,all:Boolean},PLACEMENT_PROPS),render:function(e,t){var n=t.props,i=t.data,s=t.children;e=createElement(e,styles$4,n);var a=n.all?PLACEMENTS:PLACEMENTS.filter(function(e){return n[e]}),o={color:n.color},r=a.map(function(t){return e("div",{styleName:"@line "+t,style:o})});return e(n.tag,genFunctionalData(i,{styleName:"@hairline"}),[r].concat(s||[]))}},styles$5={item:"f-Kwb f-2Pe",gap:"f-2gh",body:"f-24g f-ZhX f-2gh",left:"f-3Wx f-ZhX",right:"f-3-c f-ZhX",middle:"f-BcZ f-ZhX f-2gh",info:"f-Fn2 f-ZhX f-2gh",outline:"f-2Pe",desc:"f-6W3",extra:"f-1-K",note:"f-2vR",arrow:"f-1Re"},ARROWS=["right","down","left","up"],propDescriptors={header:VNodeType,body:VNodeType,footer:VNodeType,left:VNodeType,right:VNodeType,icon:VNodeType,title:Object.assign({},VNodeType,{slot:"default"}),desc:VNodeType,extra:VNodeType,note:VNodeType,tag:{type:String,default:"div"},infoWidth:String,arrow:{type:[Boolean,String],default:!1,validator:function(e){return _isBoolean(e)||ARROWS.indexOf(e)>=0}}},VNodeProps=extractVNodes.methods.extractVNodeProps(propDescriptors),Item={name:"f-item",alias:["f-list-item"],functional:!0,props:propDescriptors,render:function(e,t){var n=t.props,i=t.data,s=t.slots;e=createElement(e,styles$5,n);var a=extractVNodes.methods.extractVNodes({slots:s(),props:n,VNodeProps:VNodeProps}),o=a.header,r=a.body,l=a.footer,c=a.left,d=a.right,u=a.icon,f=a.title,p=a.desc,h=a.extra,m=a.note,y=_isBoolean(n.arrow)?n.arrow&&"right":n.arrow;return e(Hairline,genFunctionalData(i,{styleName:"@item",attrs:{bottom:!0}}),[o&&e("div",{styleName:"@header"},[o]),e("div",{styleName:"@body"},[r||[c&&e("div",{styleName:"@left"},[c]),e("div",{styleName:"@middle"},[f&&e("div",{styleName:"@info",style:"width: "+n.infoWidth+";"},[u&&e("div",{styleName:"@icon"},[_isString(u)?e(Icon,{attrs:{name:u}}):u]),f&&e("div",{styleName:"@outline"},[e("div",{styleName:"@title"},[f]),p&&e("div",{styleName:"@desc"},[p])])]),h&&e("div",{styleName:"@extra"},[h])]),Boolean(m||d)&&e("div",{styleName:"@right"},[m&&e("div",{styleName:"@note"},[m]),d]),e(Icon,{styleName:"@arrow",style:"display: "+(y?"block":"none")+";",attrs:{name:"f-icon-arrow-"+(y||"right")}})]]),l&&e("div",{styleName:"@footer"},[l])])}},styles$6={field:"f-39J"},field={name:"f-field",alias:["f-form-item"],inheritAttrs:!1,inject:{Form:{default:null}},provide:function(){return{Field:this}},mixins:[extractVNodes,CSSModules(styles$6)],props:{label:VNodeType,labelWidth:{type:String,default:function(){return this.Form?this.Form.labelWidth:"4.5em"}}},render:function(e){var t=this.extractVNodes().label;return e(Item,{styleName:"@field",attrs:Object.assign({},this.$attrs,{infoWidth:this.labelWidth,title:t,extra:this.$slots.default})})}},styles$7={list:"f-1b6",offset:"f-E_M"},List={name:"f-list",functional:!0,props:{tag:{type:String,default:"div"},border:{type:Boolean,default:!0},offset:{type:Boolean,default:!0}},render:function(e,t){var n=t.props,i=t.data,s=t.children;e=createElement(e,styles$7,n);var a=Boolean(n.border);return e(Hairline,genFunctionalData(i,{styleName:"@list :offset",attrs:{tag:n.tag,top:a,bottom:a}}),s)}},styles$8={},form={name:"f-form",inheritAttrs:!1,provide:function(){return{Form:this}},mixins:[betterSync({prop:"model",event:"change"}),CSSModules(styles$8)],props:{labelWidth:{type:String,default:"4.5em"},model:{type:Object,sync:!0},rules:Object},render:function(e){return e(List,{styleName:"@form",attrs:Object.assign({},this.$attrs,{tag:"form"})},this.$slots.default)}},styles$9={input:"f-389 f-1Xw"},Input={name:"f-input",mixins:[betterSync({prop:"value",event:"input"}),CSSModules(styles$9)],props:{tag:{type:String,default:"input"},value:{type:[String,Number],sync:!0},type:{type:String,default:"text"},validator:Function,lazy:{type:Boolean,default:!0}},methods:{transformLocalValue:function(e){if("number"===this.type){var t=e.newValue.trim();""!==t&&(e.newValue=_toNumber(t))}return e},handleInput:function(e){var t=e.target.value;_isFunction(this.validator)?this.validator(t,e)?this.syncValue(t):e.target.value=this.localValue:this.syncValue(t)}},render:function(e){var t;return e(this.tag,{styleName:"@input",attrs:{type:this.type},domProps:{value:this.localValue},on:(t={},t[this.lazy?"change":"input"]=this.handleInput,t)})}},styles$10={"input-number":"f-27h f-ZhX",block:"f-jcQ f-1Ac","input-box":"f-2HZ",disabled:"f-27r",input:"f-2ZX",button:"f-ZDK"},INPUT_NUMBER_TYPES=["default","primary","success","warning","danger"],inputNumber={name:"f-input-number",mixins:[betterSync({prop:"value",event:"input"}),CSSModules(styles$10)],props:{type:{type:String,default:INPUT_NUMBER_TYPES[0],validtor:function(e){return INPUT_NUMBER_TYPES.indexOf(e)>=0}},value:{type:[String,Number],sync:!0},min:{type:Number,default:Number.NEGATIVE_INFINITY},max:{type:Number,default:Number.POSITIVE_INFINITY},step:{type:Number,default:1},disableInput:Boolean,block:Boolean,disabled:Boolean},computed:{minusDisabled:function(){return this.disabled||this.localValue-this.step<this.min},plusDisabled:function(){return this.disabled||this.localValue+this.step>this.max},Minus:function(){return this.$createElement("a",{styleName:"@minus button disabled=minusDisabled",attrs:{href:"javascript:;"},on:{click:this.handleMinus}},[this.$createElement(Icon,{attrs:{name:"f-icon-minus-empty"}})])},Plus:function(){return this.$createElement("a",{styleName:"@plus button disabled=plusDisabled",attrs:{href:"javascript:;"},on:{click:this.handlePlus}},[this.$createElement(Icon,{attrs:{name:"f-icon-plus-empty"}})])},InputBox:function(){return this.$createElement("div",{styleName:"@input-box :disabled"},[this.$createElement(Input,{styleName:"@input",attrs:{type:"number",readonly:this.disableInput,validator:this.validateValue},model:{value:this.localValue,callback:this.syncValue},ref:"input"})])}},methods:{transformValue:function(e){return e.newValue=_toNumber(e.newValue),e},handleMinus:function(){this.syncValue(this.localValue-this.step)},handlePlus:function(){this.syncValue(this.localValue+this.step)},validateValue:function(e){return e>=this.min&&e<=this.max}},render:function(e){return e("div",{styleName:"@input-number :block"},[this.Minus,this.InputBox,this.Plus])}},styles$11={panel:"f-1F3",header:"f-1cu f-ZhX",tip:"f--eC f-ZhX",title:"f-1mh",body:"f-D9Y"},propDescriptors$1={title:VNodeType,extra:VNodeType,tip:VNodeType},VNodeProps$1=extractVNodes.methods.extractVNodeProps(propDescriptors$1),panel={name:"f-panel",functional:!0,props:propDescriptors$1,render:function(e,t){var n=t.props,i=t.data,s=t.children,a=t.slots;e=createElement(e,styles$11,n);var o=extractVNodes.methods.extractVNodes({slots:a(),props:n,VNodeProps:VNodeProps$1}),r=o.title,l=o.extra,c=o.tip;return e("div",Object.assign({},i,{styleName:"@panel"}),[Boolean(r||l)&&e("div",{styleName:"header"},[e("div",{styleName:"title"},r),e("div",{styleName:"extra"},l)]),e("div",{styleName:"body"},s),c&&e("div",{styleName:"tip"},c)])}},styles$12={"picker-view":"f-qZH",mask:"f-2vK",indicator:"f-1oq",content:"f-3TD f-1Ac",scroll:"f--Yp",unit:"f-1cr f-m9L",divider:"f-dlO f-m9L",loading:"f-w9F f-m9L",item:"f-2hL",disabled:"f-6PX"},mixins=[CSSModules(styles$12),betterSync({prop:"value",event:"input"})],props={value:{type:Array,sync:!0},data:{type:Array,required:!0},divider:[String,Number,Array],unit:[String,Number,Array],visibleItemCount:{type:Number,default:5},itemHeight:{type:String,default:"2em"},filterItem:Function,disableItem:Function,renderItem:Function,cascaded:Boolean,loading:Boolean},data=function(){return{scrolls:[],localData:[],selectedItems:[]}},styles$13={spinner:"f-3kd"},N12=_range(12),Spinner={name:"f-spinner",functional:!0,render:function(e,t){var n=t.props,i=t.data;return(e=createElement(e,styles$13,n))("div",Object.assign({},i,{styleName:"@spinner"}),N12.map(function(t){return e("div",{key:t})}))}},DIRECTION_DOWN=0,DIRECTION_UP=1,GROUP_CLASS_NAME=styles$12.group,ITEM_CLASS_NAME=styles$12.item,BS_OPTIONS=function(e){return{wheel:{selectedIndex:this.findSelectedItemIndex(e),wheelWrapperClass:GROUP_CLASS_NAME,wheelItemClass:ITEM_CLASS_NAME,rotate:100/this.visibleItemCount,adjustTime:200},observeDOM:!1,bindToWrapper:1===this.visibleItemCount}},computedRenders={Mask:function(){return this.$createElement("div",{styleName:"mask",style:this.styles.mask})},Indicator:function(){return this.$createElement("div",{styleName:"indicator",style:this.styles.indicator})},Content:function(){return this.$createElement("div",{styleName:"content",style:this.styles.content},this.Groups)},Loading:function(){return this.loading&&this.$createElement("div",{styleName:"loading"},[this.$createElement(Spinner)])},Groups:function(){var e=this,t=this.$createElement;return this.localData.map(function(n,i){var s=e.localDivider[i],a=e.localUnit[i],o=n.map(function(n,i){return t("li",{staticClass:ITEM_CLASS_NAME,styleName:["item",n.disabled&&"disabled"],style:e.styles.item,key:i},[n.label])}),r=s&&t("div",{styleName:"divider"},[s]),l=a&&t("div",{styleName:"unit"},[a]),c=i===e.groupCount-1&&e.Loading;return[t("div",{styleName:"scroll",style:e.styles.scroll,ref:"groups",refInFor:!0},[t("ul",{staticClass:GROUP_CLASS_NAME,styleName:"group",style:e.styles.group},o)]),c||l,r]})}},computedProps={groupCount:function(){return this.localData.length},localDivider:function(){return _isArray(this.divider)?this.divider:_fill(Array(this.groupCount),this.divider)},localUnit:function(){return _isArray(this.unit)?this.unit:_fill(Array(this.groupCount),this.unit)},styles:function(){var e=this.visibleItemCount,t=this.itemHeight.split(/(?=([a-zA-Z]{2,}))/,2),n=t[0],i=t[1],s=void 0===i?"px":i,a=""+n+s,o=""+n*((e-1)/2)+s;return{mask:{backgroundSize:"100% "+o},indicator:{height:a,top:o,display:1===e?"none":"block"},content:{height:""+n*e+s},scroll:{maxWidth:100/this.groupCount+"%"},group:{marginTop:o},item:{height:a,lineHeight:a}}}},computed=Object.assign({},computedRenders,computedProps);function findAvailableItemIndex(e,t,n){if(e[t]&&!e[t].disabled)return t;var i,s=function(){return _findIndex(e,function(e){return!e.disabled},t)},a=function(){return _findLastIndex(e.slice(0,t),function(e){return!e.disabled})};return n===DIRECTION_DOWN?-1===(i=s())&&(i=a()):n===DIRECTION_UP&&-1===(i=a())&&(i=s()),i=-1===i?t:i}function findSelectedItemIndex(e,t){var n=this.findAvailableItemIndex,i=this.selectedItems,s=this.localData,a=this.localValue,o=s[e].length,r=-1;return!t&&i[e]&&(r=i[e].index),-1!==r||_isNil(a[e])||(r=_findIndex(s[e],function(t){return t.value===a[e]})),r=n(s[e],r<=0?0:r>=o?o-1:r,DIRECTION_DOWN)}function processData(e,t){for(var n=this.filterItem,i=this.disableItem,s=this.renderItem,a=[],o=0,r=e.length;o<r;o++){var l=_clone(e[o]),c={groupIndex:t,itemIndex:o,item:l};if(!n||n(c)){if(i&&i(c)&&(l.disabled=!0),s){var d=s(c);d&&(l.label=d)}_isArray(l.children)&&l.children.length&&(l.children=processData.call(this,l.children,t+1)),a.push(l)}}return a}function onDataChange(e){this.cascaded?this.localData=[this.processData(e,0)]:this.localData=e.map(this.processData)}function onLocalDataChange(){var e=this;this.$nextTick(function(){for(var t=e.scrolls,n=e.$refs.groups,i=function(t,i){var s=new BScroll(n[t],BS_OPTIONS.call(e,t));s.on("scrollEnd",function(){e.onScrollEnd(s,t)}),e.cascaded&&e.onScrollEnd(s,t),e.scrolls[t]=s},s=t.length,a=n.length;s<a;s++)i(s);e.scrolls.forEach(function(t,n){t.once("refresh",function(){e.$nextTick(function(){t.wheelTo(e.findSelectedItemIndex(n))})}),t.refresh()})})}function onScrollEnd(e,t){var n=e.getSelectedIndex();if(!_isNaN(n)){var i=this.localData[t][n];if(i.index=n,i.disabled){var s=this.findAvailableItemIndex(this.localData[t],n,e.directionY>=0?DIRECTION_DOWN:DIRECTION_UP);s!==n&&e.scrollTo(0,-s*e.itemHeight,170)}else if(this.cascaded||!this.selectedItems[t]||this.selectedItems[t].index!==n){this.selectedItems[t]=i;var a=this.localValue.slice();if(a[t]=i.value,this.syncValue(a),this.cascaded?_isEmpty(i.children)&&this.$emit("change",this.selectedItems.slice(0,t+1)):this.$emit("change",this.selectedItems.slice()),this.cascaded){var o=t+1,r=i.children;_isArray(r)&&r.length?this.$set(this.localData,o,r):this.localData.length>o&&(this.localData.splice(o),this.localValue.splice(o),this.scrolls.splice(o))}}}}function onValueChange(){var e=this;this.$nextTick(function(){e.scrolls.forEach(function(t,n){t.wheelTo(e.findSelectedItemIndex(n,!0))})})}var listeners={onDataChange:onDataChange,onLocalDataChange:onLocalDataChange,onScrollEnd:onScrollEnd,onValueChange:onValueChange},methods=Object.assign({findAvailableItemIndex:findAvailableItemIndex,findSelectedItemIndex:findSelectedItemIndex,processData:processData},listeners),watch={data:{immediate:!0,handler:"onDataChange"},localData:{immediate:!0,handler:"onLocalDataChange"}};function render(e){return e("div",{styleName:"@picker-view"},[this.Mask,this.Indicator,this.Content])}var pickerView={name:"f-picker-view",mixins:mixins,props:props,data:data,computed:computed,methods:methods,watch:watch,render:render},styles$14={fix:"f-3JZ",popup:"f-JE4 f-m9L",right:"f-1fi",left:"f-1bb",top:"f-2oL",bottom:"f-3_k"},PLACEMENTS$1=["center","top","right","bottom","left"],popup={name:"f-popup",mixins:[CSSModules(styles$14),adjustZIndex(5e3),toggleVisibility(!1,!0)],props:{placement:{type:String,default:PLACEMENTS$1[0],validator:function(e){return PLACEMENTS$1.indexOf(e)>=0}},transition:String,mask:{type:[Boolean,String],default:!0},lockScroll:{type:Boolean,default:!0},closeOnMaskClick:{type:Boolean,default:!0}},computed:{localTransition:function(){return this.transition||("center"===this.placement?"f--fade":"f--slide-from-"+this.placement)}},mounted:function(){var e=this.$el;e.parentNode&&(e.parentNode.replaceChild(document.createComment(""),e),document.body.appendChild(e))},methods:{handleMaskClick:function(e){this.closeOnMaskClick&&e.target===e.currentTarget&&this.hide()},onVisibleChange:function(e){if(this.lockScroll){var t=document.body,n=document.scrollingElement||(document.documentElement.scrollTop?document.documentElement:document.body);e?(this.scrollTop=n.scrollTop,t.classList.add(styles$14.fix),t.style.top=-this.scrollTop+"px"):(t.classList.remove(styles$14.fix),n.scrollTop=this.scrollTop)}}},render:function(e){return e("div",[e("transition",{attrs:{appear:!0,name:"f--fade"}},[e("div",{styleName:"@popup $placement",style:{zIndex:this.localZIndex,backgroundColor:this.mask,display:this.localVisible||"none"},on:{click:this.handleMaskClick}},[e("transition",{attrs:{appear:!0,name:this.localTransition}},this.$slots.default)])])])}},styles$15={select:"f-1rW f-1Xw"},select={name:"f-select",mixins:[betterSync({prop:"value",event:"change"}),CSSModules(styles$15)],props:{value:{type:null,sync:!0},data:{type:Array,required:!0}},data:function(){return{lastSelectedIndex:null}},computed:{selectedIndex:function(){return null!==this.lastSelectedIndex?this.lastSelectedIndex:_findIndex(this.data,["value",this.localValue])},Options:function(){var e=this;return this.data.map(function(t){return e.$createElement("option",{attrs:{disabled:t.disabled}},[t.label])})}},methods:{handleChange:function(e){var t=e.target.selectedIndex;-1!==t&&this.data[t]&&(this.lastSelectedIndex=t,this.syncValue(this.data[t].value))}},render:function(e){return e("select",{styleName:"@select",domProps:{selectedIndex:this.selectedIndex},on:{change:this.handleChange}},this.Options)}},styles$16={switch:"f-fDD",on:"f-3bg",disabled:"f-TLD"},_switch={name:"f-switch",mixins:[betterSync({prop:"value",event:"change"}),CSSModules(styles$16)],props:{value:{type:null,sync:!0},beforeChange:Function,valueMap:{type:Object,default:function(){return{on:!0,off:!1}},validator:function(e){return _has(e,"on")&&_has(e,"off")}},disabled:Boolean},methods:{transformValue:function(e){var t=this;return _mapValues(e,function(e){return t.valueMap.on===e})},transformLocalValue:function(e){var t=this;return _mapValues(e,function(e){return t.valueMap[e?"on":"off"]})},done:function(){this.syncValue(!this.localValue)},handleClick:function(){this.disabled||(this.beforeChange?this.beforeChange(this.done):this.done())}},render:function(e){return e("div",{styleName:"@switch on=localValue :disabled",on:{click:this.handleClick}})}},styles$17={},textarea={name:"f-textarea",inheritAttrs:!1,mixins:[betterSync({prop:"value",event:"input"}),CSSModules(styles$17)],props:{value:{type:[String,Number],sync:!0},rows:{type:[Number,String],default:2},autoSize:Boolean},methods:{onValueChange:function(){this.resize()},resize:function(){var e=this;this.$nextTick(function(){var t=e.$refs.textarea.$el;e.autoSize?e.autoSizeInited?autoSize.update(t):(e.autoSizeInited=!0,autoSize(t)):(e.autoSizeInited=!1,autoSize.destroy(t))})}},watch:{autoSize:{immediate:!0,handler:"resize"}},render:function(e){return e(Input,{styleName:"@textarea",attrs:Object.assign({},this.$attrs,{tag:"textarea",rows:this.rows}),model:{value:this.localValue,callback:this.syncValue},ref:"textarea"})}},components=Object.freeze({button:button,choice:choice,divider:divider,field:field,form:form,hairline:Hairline,icon:Icon,input:Input,inputNumber:inputNumber,item:Item,list:List,panel:panel,pickerView:pickerView,popup:popup,select:select,spinner:Spinner,switch:_switch,textarea:textarea});function install(e){install.installed||(e.prototype.$log=console.log,_forOwn(components,function(t){t.alias&&_castArray(t.alias).forEach(function(n){return e.component(n,t)}),e.component(t.name,t)}),install.installed=!0)}Object.defineProperty(components,"install",{value:install});export default components;
