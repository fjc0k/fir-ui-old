/*!
 * fir-ui v0.6.0
 * (c) 2018-present fjc0k <fjc0kb@gmail.com>
 * Released under the MIT License.
 */
import _toString from"lodash/toString";import _isArray from"lodash/isArray";import _forOwn from"lodash/forOwn";import _reduce from"lodash/reduce";import _isObjectLike from"lodash/isObjectLike";import _isFunction from"lodash/isFunction";import betterSync from"vue-better-sync";import _isBoolean from"lodash/isBoolean";import _isString from"lodash/isString";import _toNumber from"lodash/toNumber";import _findIndex from"lodash/findIndex";import _mapValues from"lodash/mapValues";import _has from"lodash/has";function genFunctionalData(){for(var t,e={},i=arguments.length;i--;)_forOwn(arguments[i],function(i,n,a){if(i)switch(n){case"class":case"style":case"directives":_isArray(e[n])||(e[n]=[]),e[n]=e[n].concat(i);break;case"staticClass":t=_toString(i).trim(),e[n]?e[n]+=" "+t:e[n]=t;break;case"attrs":case"props":case"domProps":case"scopedSlots":case"staticStyle":case"hook":case"transition":e[n]||(e[n]={}),e[n]=Object.assign({},i,e[n]);break;case"on":case"nativeOn":e[n]||(e[n]={}),_forOwn(i,function(t,i){e[n][i]?e[n][i]=[].concat(e[n][i],t):e[n][i]=t});break;default:e[n]||(e[n]=a[n])}});return e}var VNodeType={type:null,vnode:!0},hairline="f-hairline",list="f-list",item="f-item",icon="f-icon",button="f-button",input="f-input",form="f-form",field="f-field",inputNumber="f-input-number",textarea="f-textarea",select="f-select",components={hairline:hairline,list:list,item:item,icon:icon,button:button,input:input,form:form,field:field,inputNumber:inputNumber,textarea:textarea,select:select,switch:"f-switch"},Icon={name:icon,functional:!0,props:{name:{type:String,required:!0}},render:function(t,e){var i=e.props,n=e.data,a=i.name,s="$"===a[0];return a=s?a.substr(1):a,s?t("i",genFunctionalData(n,{staticClass:icon+" "+icon+"_svg"}),[t("svg",[t("use",{attrs:{"xlink:href":"#"+a}})])]):t("i",genFunctionalData(n,{staticClass:icon+" "+a}))}},BUTTON_TYPES=["default","primary","success","warning","danger"],button$1={name:button,functional:!0,props:{type:{type:String,default:BUTTON_TYPES[0],validtor:function(t){return BUTTON_TYPES.indexOf(t)>=0}},icon:String,mini:Boolean,plain:Boolean,inline:Boolean,disabled:Boolean,whiteSpace:Boolean},render:function(t,e){var i=e.props,n=e.data,a=e.children,s=button+" "+button+"_"+i.type,r={"is-mini":i.mini,"is-plain":i.plain,"is-inline":i.inline,"is-disabled":i.disabled,"has-white-space":i.whiteSpace},o=i.icon&&t(Icon,{staticClass:button+"_icon",attrs:{name:i.icon}});return t("a",genFunctionalData(n,{attrs:{href:"javascript:;"},class:r,staticClass:s}),[o].concat(a||[]))}},normalizePropVNode=function(t){return _isObjectLike(t)?t:_toString(t)},extractVNodes={computed:{VNodeProps:function(){return this.extractVNodeProps()}},methods:{extractVNodeProps:function(t){return void 0===t&&(t=this.$options.props),_reduce(t,function(t,e,i){return e.vnode&&t.push([i,e.slot||i]),t},[])},extractVNodes:function(t){var e=void 0===t?{}:t,i=e.VNodeProps,n=void 0===i?this.VNodeProps:i,a=e.slots,s=void 0===a?this.$slots:a,r=e.props,o=void 0===r?this.$props:r;return n.reduce(function(t,e){var i=e[0],n=e[1];return t[i]=s[n]||s[i]||normalizePropVNode(o[i]),t},{children:s.default})}}},PLACEMENT_PROPS={top:Boolean,right:Boolean,bottom:Boolean,left:Boolean},PLACEMENTS=Object.keys(PLACEMENT_PROPS),Hairline={name:hairline,functional:!0,props:Object.assign({tag:{type:String,default:"div"},color:String,all:Boolean},PLACEMENT_PROPS),render:function(t,e){var i=e.props,n=e.data,a=e.children,s=i.all?PLACEMENTS:PLACEMENTS.filter(function(t){return i[t]}),r={color:i.color},o=s.map(function(e){return t("div",{staticClass:hairline+"_line "+hairline+"_"+e,style:r})});return t(i.tag,genFunctionalData(n,{staticClass:hairline}),[o].concat(a||[]))}},ARROWS=["right","down","left","up"],propDescriptors={header:VNodeType,body:VNodeType,footer:VNodeType,left:VNodeType,right:VNodeType,icon:VNodeType,title:Object.assign({},VNodeType,{slot:"default"}),desc:VNodeType,extra:VNodeType,note:VNodeType,tag:{type:String,default:"div"},infoWidth:String,arrow:{type:[Boolean,String],default:!1,validator:function(t){return _isBoolean(t)||ARROWS.indexOf(t)>=0}}},VNodeProps=extractVNodes.methods.extractVNodeProps(propDescriptors),Item={name:item,functional:!0,props:propDescriptors,render:function(t,e){var i=e.props,n=e.data,a=e.slots,s=extractVNodes.methods.extractVNodes({slots:a(),props:i,VNodeProps:VNodeProps}),r=s.header,o=s.body,l=s.footer,u=s.left,c=s.right,d=s.icon,p=s.title,f=s.desc,m=s.extra,h=s.note,b=_isBoolean(i.arrow)?i.arrow&&"right":i.arrow;return t(Hairline,genFunctionalData(n,{staticClass:item,attrs:{bottom:!0}}),[r&&t("div",{staticClass:item+"_header"},[r]),t("div",{staticClass:item+"_body"},[o||[u&&t("div",{staticClass:item+"_left"},[u]),t("div",{staticClass:item+"_middle"},[p&&t("div",{staticClass:item+"_info",style:"width: "+i.infoWidth+";"},[d&&t("div",{staticClass:item+"_icon"},[_isString(d)?t(Icon,{attrs:{name:d}}):d]),p&&t("div",{staticClass:item+"_outline"},[t("div",{staticClass:item+"_title"},[p]),f&&t("div",{staticClass:item+"_desc"},[f])])]),m&&t("div",{staticClass:item+"_extra"},[m])]),Boolean(h||c)&&t("div",{staticClass:item+"_right"},[h&&t("div",{staticClass:item+"_note"},[h]),c]),t(Icon,{staticClass:item+"_arrow",style:"display: "+(b?"block":"none")+";",attrs:{name:"f-icon-arrow-"+(b||"right")}})]]),l&&t("div",{staticClass:item+"_footer"},[l])])}},field$1={name:field,inheritAttrs:!1,inject:{Form:{default:null}},provide:function(){return{Field:this}},mixins:[extractVNodes],props:{label:VNodeType,labelWidth:{type:String,default:function(){return this.Form?this.Form.labelWidth:"4.5em"}}},computed:{classList:function(){return[field]}},render:function(t){var e=this.extractVNodes().label;return t(Item,{class:this.classList,attrs:Object.assign({},this.$attrs,{infoWidth:this.labelWidth,title:e,extra:this.$slots.default})})}},List={name:list,functional:!0,props:{tag:{type:String,default:"div"},border:{type:Boolean,default:!0},offset:{type:Boolean,default:!0}},render:function(t,e){var i=e.props,n=e.data,a=e.children,s=Boolean(i.border);return t(Hairline,genFunctionalData(n,{attrs:{tag:i.tag,top:s,bottom:s},staticClass:list+(i.offset?" is-offset":"")}),a)}},form$1={name:form,inheritAttrs:!1,provide:function(){return{Form:this}},mixins:[betterSync({prop:"model",event:"change"})],props:{labelWidth:{type:String,default:"4.5em"},model:{type:Object,sync:!0},rules:Object},render:function(t){return t(List,{staticClass:form,attrs:Object.assign({},this.$attrs,{tag:"form"})},this.$slots.default)}},Input={name:input,mixins:[betterSync({prop:"value",event:"input"})],props:{tag:{type:String,default:"input"},value:{type:[String,Number],sync:!0},type:{type:String,default:"text"},validator:Function,lazy:{type:Boolean,default:!0}},methods:{transformValue:function(t,e){if(e)return t;if("number"===this.type){var i=t.newValue.trim();""!==i&&(t.newValue=_toNumber(i))}return t},handleInput:function(t){var e=t.target.value;_isFunction(this.validator)?this.validator(e,t)?this.syncValue(e):t.target.value=this.actualValue:this.syncValue(e)}},render:function(t){var e;return t(this.tag,{staticClass:input+" "+field+"--reset",attrs:{type:this.type},domProps:{value:this.actualValue},on:(e={},e[this.lazy?"change":"input"]=this.handleInput,e)})}},INPUT_NUMBER_TYPES=["default","primary","success","warning","danger"],inputNumber$1={name:inputNumber,mixins:[betterSync({prop:"value",event:"input"})],props:{type:{type:String,default:INPUT_NUMBER_TYPES[0],validtor:function(t){return INPUT_NUMBER_TYPES.indexOf(t)>=0}},value:{type:[String,Number],sync:!0},min:{type:Number,default:Number.MIN_VALUE},max:{type:Number,default:Number.MAX_VALUE},step:{type:Number,default:1},disableInput:Boolean,block:Boolean,disabled:Boolean},computed:{minusDisabled:function(){return this.disabled||this.actualValue-this.step<this.min},plusDisabled:function(){return this.disabled||this.actualValue+this.step>this.max},classList:function(){return[inputNumber,{"is-block":this.block,"is-disabled":this.disabled}]},Minus:function(){var t=inputNumber+"_button "+inputNumber+"_minus"+(this.minusDisabled?" is-disabled":"");return this.$createElement("a",{attrs:{href:"javascript:;"},on:{click:this.handleMinus},staticClass:t},[this.$createElement(Icon,{attrs:{name:"f-icon-minus-empty"}})])},Plus:function(){var t=inputNumber+"_button "+inputNumber+"_plus"+(this.plusDisabled?" is-disabled":"");return this.$createElement("a",{attrs:{href:"javascript:;"},on:{click:this.handlePlus},staticClass:t},[this.$createElement(Icon,{attrs:{name:"f-icon-plus-empty"}})])},InputBox:function(){var t=inputNumber+"_input-box"+(this.disabled?" is-disabled":"");return this.$createElement("div",{staticClass:t},[this.$createElement(Input,{staticClass:inputNumber+"_input",attrs:{type:"number",readonly:this.disableInput,validator:this.validateValue},model:{value:this.actualValue,callback:this.syncValue},ref:"input"})])}},methods:{transformValue:function(t){return t.newValue=_toNumber(t.newValue),t},handleMinus:function(){this.syncValue(this.actualValue-this.step)},handlePlus:function(){this.syncValue(this.actualValue+this.step)},validateValue:function(t){return t>=this.min&&t<=this.max}},render:function(t){return t("div",{class:this.classList},[this.Minus,this.InputBox,this.Plus])}},textarea$1={name:textarea,inheritAttrs:!1,mixins:[betterSync({prop:"value",event:"input"})],props:{value:{type:[String,Number],sync:!0},rows:{type:[Number,String],default:2}},render:function(t){return t(Input,{staticClass:textarea,attrs:Object.assign({},this.$attrs,{tag:"textarea",rows:this.rows}),model:{value:this.actualValue,callback:this.syncValue}})}},select$1={name:select,mixins:[betterSync({prop:"value",event:"change"})],props:{value:{type:null,sync:!0},data:{type:Array,required:!0}},data:function(){return{lastSelectedIndex:null}},computed:{selectedIndex:function(){return null!==this.lastSelectedIndex?this.lastSelectedIndex:_findIndex(this.data,["value",this.actualValue])},Options:function(){var t=this;return this.data.map(function(e){return t.$createElement("option",{attrs:{disabled:e.disabled}},[e.label])})}},methods:{handleChange:function(t){var e=t.target.selectedIndex;-1!==e&&this.data[e]&&(this.lastSelectedIndex=e,this.syncValue(this.data[e].value))}},render:function(t){return t("select",{staticClass:select+" "+field+"--reset",domProps:{selectedIndex:this.selectedIndex},on:{change:this.handleChange}},this.Options)}},CN=components.switch,_switch={name:CN,mixins:[betterSync({prop:"value",event:"change"})],props:{value:{type:null,sync:!0},beforeChange:Function,valueMap:{type:Object,default:function(){return{on:!0,off:!1}},validator:function(t){return _has(t,"on")&&_has(t,"off")}},disabled:Boolean},computed:{classList:function(){return[CN,"is-"+(this.actualValue?"on":"off"),{"is-disabled":this.disabled}]}},methods:{transformValue:function(t,e){var i=this;return _mapValues(t,function(t){return e?i.valueMap.on===t:i.valueMap[t?"on":"off"]})},done:function(){this.syncValue(!this.actualValue)},handleClick:function(){this.disabled||(this.beforeChange?this.beforeChange(this.done):this.done())}},render:function(t){return t("div",{class:this.classList,on:{click:this.handleClick}})}},components$1=Object.freeze({button:button$1,field:field$1,form:form$1,hairline:Hairline,icon:Icon,inputNumber:inputNumber$1,input:Input,textarea:textarea$1,item:Item,list:List,select:select$1,switch:_switch});function install(t){install.installed||(t.prototype.$log=console.log,_forOwn(components$1,function(e){return t.component(e.name,e)}),install.installed=!0)}Object.defineProperty(components$1,"install",{value:install});export default components$1;
