/*!
 * fir-ui v0.8.0
 * (c) 2018-present fjc0k <fjc0kb@gmail.com>
 * Released under the MIT License.
 */
"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var _toString=_interopDefault(require("lodash/toString")),_isArray=_interopDefault(require("lodash/isArray")),_forOwn=_interopDefault(require("lodash/forOwn")),createElement=_interopDefault(require("vue-css-modules/lib/create-element")),CSSModules=_interopDefault(require("vue-css-modules")),betterSync=_interopDefault(require("vue-better-sync")),_reduce=_interopDefault(require("lodash/reduce")),_isObjectLike=_interopDefault(require("lodash/isObjectLike")),_isFunction=_interopDefault(require("lodash/isFunction")),_isBoolean=_interopDefault(require("lodash/isBoolean")),_isString=_interopDefault(require("lodash/isString")),_toNumber=_interopDefault(require("lodash/toNumber")),_findIndex=_interopDefault(require("lodash/findIndex")),_mapValues=_interopDefault(require("lodash/mapValues")),_has=_interopDefault(require("lodash/has"));function genFunctionalData(){for(var e,t={},n=arguments.length;n--;)_forOwn(arguments[n],function(n,a,i){if(n)switch(a){case"class":case"style":case"directives":_isArray(t[a])||(t[a]=[]),t[a]=t[a].concat(n);break;case"staticClass":e=_toString(n).trim(),t[a]?t[a]+=" "+e:t[a]=e;break;case"attrs":case"props":case"domProps":case"scopedSlots":case"staticStyle":case"hook":case"transition":t[a]||(t[a]={}),t[a]=Object.assign({},n,t[a]);break;case"on":case"nativeOn":t[a]||(t[a]={}),_forOwn(n,function(e,n){t[a][n]?t[a][n]=[].concat(t[a][n],e):t[a][n]=e});break;default:t[a]||(t[a]=i[a])}});return t}var VNodeType={type:null,vnode:!0},hairline="f-hairline",list="f-list",item="f-item",icon="f-icon",button="f-button",input="f-input",form="f-form",field="f-field",inputNumber="f-input-number",textarea="f-textarea",select="f-select",checkbox="f-checkbox",components={hairline:hairline,list:list,item:item,icon:icon,button:button,input:input,form:form,field:field,inputNumber:inputNumber,textarea:textarea,select:select,checkbox:checkbox,switch:"f-switch"},styles={},Icon={name:icon,functional:!0,props:{name:{type:String,required:!0}},render:function(e,t){var n=t.props,a=t.data;e=createElement(e,styles,n);var i=n.name,r="$"===i[0];return i=r?i.substr(1):i,r?e("i",genFunctionalData(a,{styleName:"@svg"}),[e("svg",[e("use",{attrs:{"xlink:href":"#"+i}})])]):e("i",genFunctionalData(a,{styleName:"@icon",staticClass:i}))}},styles$1={},BUTTON_TYPES=["default","primary","success","warning","danger"],button$1={name:button,functional:!0,props:{type:{type:String,default:BUTTON_TYPES[0],validtor:function(e){return BUTTON_TYPES.indexOf(e)>=0}},icon:String,mini:Boolean,plain:Boolean,inline:Boolean,disabled:Boolean,whiteSpace:Boolean},render:function(e,t){var n=t.props,a=t.data,i=t.children;e=createElement(e,styles$1,n);var r=n.icon&&e(Icon,{styleName:"@icon",attrs:{name:n.icon}});return e("a",genFunctionalData(a,{styleName:"@button $type :mini :plain :inline :disabled :white-space",attrs:{href:"javascript:;"}}),[r].concat(i||[]))}},styles$2={},checkbox$1={name:checkbox,mixins:[CSSModules(styles$2),betterSync({prop:"value",event:"input"})],props:{value:{type:String,sync:!0}},render:function(e){return e("div",{styleName:"@checkbox"})}},normalizePropVNode=function(e){return _isObjectLike(e)?e:_toString(e)},extractVNodes={computed:{VNodeProps:function(){return this.extractVNodeProps()}},methods:{extractVNodeProps:function(e){return void 0===e&&(e=this.$options.props),_reduce(e,function(e,t,n){return t.vnode&&e.push([n,t.slot||n]),e},[])},extractVNodes:function(e){var t=void 0===e?{}:e,n=t.VNodeProps,a=void 0===n?this.VNodeProps:n,i=t.slots,r=void 0===i?this.$slots:i,s=t.props,o=void 0===s?this.$props:s;return a.reduce(function(e,t){var n=t[0],a=t[1];return e[n]=r[a]||r[n]||normalizePropVNode(o[n]),e},{children:r.default})}}},styles$3={},PLACEMENT_PROPS={top:Boolean,right:Boolean,bottom:Boolean,left:Boolean},PLACEMENTS=Object.keys(PLACEMENT_PROPS),Hairline={name:hairline,functional:!0,props:Object.assign({tag:{type:String,default:"div"},color:String,all:Boolean},PLACEMENT_PROPS),render:function(e,t){var n=t.props,a=t.data,i=t.children;e=createElement(e,styles$3,n);var r=n.all?PLACEMENTS:PLACEMENTS.filter(function(e){return n[e]}),s={color:n.color},o=r.map(function(t){return e("div",{styleName:"@line "+t,style:s})});return e(n.tag,genFunctionalData(a,{styleName:"@hairline"}),[o].concat(i||[]))}},styles$4={},ARROWS=["right","down","left","up"],propDescriptors={header:VNodeType,body:VNodeType,footer:VNodeType,left:VNodeType,right:VNodeType,icon:VNodeType,title:Object.assign({},VNodeType,{slot:"default"}),desc:VNodeType,extra:VNodeType,note:VNodeType,tag:{type:String,default:"div"},infoWidth:String,arrow:{type:[Boolean,String],default:!1,validator:function(e){return _isBoolean(e)||ARROWS.indexOf(e)>=0}}},VNodeProps=extractVNodes.methods.extractVNodeProps(propDescriptors),Item={name:item,functional:!0,props:propDescriptors,render:function(e,t){var n=t.props,a=t.data,i=t.slots;e=createElement(e,styles$4,n);var r=extractVNodes.methods.extractVNodes({slots:i(),props:n,VNodeProps:VNodeProps}),s=r.header,o=r.body,l=r.footer,u=r.left,c=r.right,d=r.icon,p=r.title,f=r.desc,m=r.extra,h=r.note,y=_isBoolean(n.arrow)?n.arrow&&"right":n.arrow;return e(Hairline,genFunctionalData(a,{styleName:"@item",attrs:{bottom:!0}}),[s&&e("div",{styleName:"@header"},[s]),e("div",{styleName:"@body"},[o||[u&&e("div",{styleName:"@left"},[u]),e("div",{styleName:"@middle"},[p&&e("div",{styleName:"@info",style:"width: "+n.infoWidth+";"},[d&&e("div",{styleName:"@icon"},[_isString(d)?e(Icon,{attrs:{name:d}}):d]),p&&e("div",{styleName:"@outline"},[e("div",{styleName:"@title"},[p]),f&&e("div",{styleName:"@desc"},[f])])]),m&&e("div",{styleName:"@extra"},[m])]),Boolean(h||c)&&e("div",{styleName:"@right"},[h&&e("div",{styleName:"@note"},[h]),c]),e(Icon,{styleName:"@arrow",style:"display: "+(y?"block":"none")+";",attrs:{name:"f-icon-arrow-"+(y||"right")}})]]),l&&e("div",{styleName:"@footer"},[l])])}},styles$5={},field$1={name:field,inheritAttrs:!1,inject:{Form:{default:null}},provide:function(){return{Field:this}},mixins:[extractVNodes,CSSModules(styles$5)],props:{label:VNodeType,labelWidth:{type:String,default:function(){return this.Form?this.Form.labelWidth:"4.5em"}}},render:function(e){var t=this.extractVNodes().label;return e(Item,{styleName:"@field",attrs:Object.assign({},this.$attrs,{infoWidth:this.labelWidth,title:t,extra:this.$slots.default})})}},styles$6={},List={name:list,functional:!0,props:{tag:{type:String,default:"div"},border:{type:Boolean,default:!0},offset:{type:Boolean,default:!0}},render:function(e,t){var n=t.props,a=t.data,i=t.children;e=createElement(e,styles$6,n);var r=Boolean(n.border);return e(Hairline,genFunctionalData(a,{styleName:"@list :offset",attrs:{tag:n.tag,top:r,bottom:r}}),i)}},styles$7={},form$1={name:form,inheritAttrs:!1,provide:function(){return{Form:this}},mixins:[betterSync({prop:"model",event:"change"}),CSSModules(styles$7)],props:{labelWidth:{type:String,default:"4.5em"},model:{type:Object,sync:!0},rules:Object},render:function(e){return e(List,{styleName:"@form",attrs:Object.assign({},this.$attrs,{tag:"form"})},this.$slots.default)}},styles$8={},Input={name:input,mixins:[betterSync({prop:"value",event:"input"}),CSSModules(styles$8)],props:{tag:{type:String,default:"input"},value:{type:[String,Number],sync:!0},type:{type:String,default:"text"},validator:Function,lazy:{type:Boolean,default:!0}},methods:{transformValue:function(e,t){if(t)return e;if("number"===this.type){var n=e.newValue.trim();""!==n&&(e.newValue=_toNumber(n))}return e},handleInput:function(e){var t=e.target.value;_isFunction(this.validator)?this.validator(t,e)?this.syncValue(t):e.target.value=this.actualValue:this.syncValue(t)}},render:function(e){var t;return e(this.tag,{styleName:"@input",attrs:{type:this.type},domProps:{value:this.actualValue},on:(t={},t[this.lazy?"change":"input"]=this.handleInput,t)})}},styles$9={},INPUT_NUMBER_TYPES=["default","primary","success","warning","danger"],inputNumber$1={name:inputNumber,mixins:[betterSync({prop:"value",event:"input"}),CSSModules(styles$9)],props:{type:{type:String,default:INPUT_NUMBER_TYPES[0],validtor:function(e){return INPUT_NUMBER_TYPES.indexOf(e)>=0}},value:{type:[String,Number],sync:!0},min:{type:Number,default:Number.MIN_VALUE},max:{type:Number,default:Number.MAX_VALUE},step:{type:Number,default:1},disableInput:Boolean,block:Boolean,disabled:Boolean},computed:{minusDisabled:function(){return this.disabled||this.actualValue-this.step<this.min},plusDisabled:function(){return this.disabled||this.actualValue+this.step>this.max},Minus:function(){return this.$createElement("a",{styleName:"@minus button disabled=minusDisabled",attrs:{href:"javascript:;"},on:{click:this.handleMinus}},[this.$createElement(Icon,{attrs:{name:"f-icon-minus-empty"}})])},Plus:function(){return this.$createElement("a",{styleName:"@plus button disabled=plusDisabled",attrs:{href:"javascript:;"},on:{click:this.handlePlus}},[this.$createElement(Icon,{attrs:{name:"f-icon-plus-empty"}})])},InputBox:function(){return this.$createElement("div",{styleName:"@input-box :disabled"},[this.$createElement(Input,{styleName:"@input",attrs:{type:"number",readonly:this.disableInput,validator:this.validateValue},model:{value:this.actualValue,callback:this.syncValue},ref:"input"})])}},methods:{transformValue:function(e){return e.newValue=_toNumber(e.newValue),e},handleMinus:function(){this.syncValue(this.actualValue-this.step)},handlePlus:function(){this.syncValue(this.actualValue+this.step)},validateValue:function(e){return e>=this.min&&e<=this.max}},render:function(e){return e("div",{styleName:"@input-number :block"},[this.Minus,this.InputBox,this.Plus])}},styles$10={},select$1={name:select,mixins:[betterSync({prop:"value",event:"change"}),CSSModules(styles$10)],props:{value:{type:null,sync:!0},data:{type:Array,required:!0}},data:function(){return{lastSelectedIndex:null}},computed:{selectedIndex:function(){return null!==this.lastSelectedIndex?this.lastSelectedIndex:_findIndex(this.data,["value",this.actualValue])},Options:function(){var e=this;return this.data.map(function(t){return e.$createElement("option",{attrs:{disabled:t.disabled}},[t.label])})}},methods:{handleChange:function(e){var t=e.target.selectedIndex;-1!==t&&this.data[t]&&(this.lastSelectedIndex=t,this.syncValue(this.data[t].value))}},render:function(e){return e("select",{styleName:"@select",domProps:{selectedIndex:this.selectedIndex},on:{change:this.handleChange}},this.Options)}},styles$11={},_switch={name:components.switch,mixins:[betterSync({prop:"value",event:"change"}),CSSModules(styles$11)],props:{value:{type:null,sync:!0},beforeChange:Function,valueMap:{type:Object,default:function(){return{on:!0,off:!1}},validator:function(e){return _has(e,"on")&&_has(e,"off")}},disabled:Boolean},methods:{transformValue:function(e,t){var n=this;return _mapValues(e,function(e){return t?n.valueMap.on===e:n.valueMap[e?"on":"off"]})},done:function(){this.syncValue(!this.actualValue)},handleClick:function(){this.disabled||(this.beforeChange?this.beforeChange(this.done):this.done())}},render:function(e){return e("div",{styleName:"@switch on=actualValue :disabled",on:{click:this.handleClick}})}},styles$12={},textarea$1={name:textarea,inheritAttrs:!1,mixins:[betterSync({prop:"value",event:"input"}),CSSModules(styles$12)],props:{value:{type:[String,Number],sync:!0},rows:{type:[Number,String],default:2}},render:function(e){return e(Input,{styleName:"@textarea",attrs:Object.assign({},this.$attrs,{tag:"textarea",rows:this.rows}),model:{value:this.actualValue,callback:this.syncValue}})}},components$1=Object.freeze({button:button$1,checkbox:checkbox$1,field:field$1,form:form$1,hairline:Hairline,icon:Icon,input:Input,inputNumber:inputNumber$1,item:Item,list:List,select:select$1,switch:_switch,textarea:textarea$1});function install(e){install.installed||(e.prototype.$log=console.log,_forOwn(components$1,function(t){return e.component(t.name,t)}),install.installed=!0)}Object.defineProperty(components$1,"install",{value:install}),module.exports=components$1;
