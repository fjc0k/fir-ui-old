/*!
 * fir-ui v0.12.0
 * (c) 2018-present fjc0k <fjc0kb@gmail.com>
 * Released under the MIT License.
 */
"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var _toString=_interopDefault(require("lodash/toString")),_isArray=_interopDefault(require("lodash/isArray")),_forOwn=_interopDefault(require("lodash/forOwn")),createElement=_interopDefault(require("vue-css-modules/lib/create-element")),_upperFirst=_interopDefault(require("lodash/upperFirst")),_reduce=_interopDefault(require("lodash/reduce")),_isObjectLike=_interopDefault(require("lodash/isObjectLike")),_isFunction=_interopDefault(require("lodash/isFunction")),betterSync=_interopDefault(require("vue-better-sync")),_isBoolean=_interopDefault(require("lodash/isBoolean")),CSSModules=_interopDefault(require("vue-css-modules")),_isString=_interopDefault(require("lodash/isString")),_toNumber=_interopDefault(require("lodash/toNumber")),_findIndex=_interopDefault(require("lodash/findIndex")),_mapValues=_interopDefault(require("lodash/mapValues")),_has=_interopDefault(require("lodash/has")),autoSize=_interopDefault(require("autosize")),_castArray=_interopDefault(require("lodash/castArray"));function genFunctionalData(){for(var e,t={},n=arguments.length;n--;)_forOwn(arguments[n],function(n,i,a){if(n)switch(i){case"class":case"style":case"directives":_isArray(t[i])||(t[i]=[]),t[i]=t[i].concat(n);break;case"staticClass":e=_toString(n).trim(),t[i]?t[i]+=" "+e:t[i]=e;break;case"attrs":case"props":case"domProps":case"scopedSlots":case"staticStyle":case"hook":case"transition":t[i]||(t[i]={}),t[i]=Object.assign({},n,t[i]);break;case"on":case"nativeOn":t[i]||(t[i]={}),_forOwn(n,function(e,n){t[i][n]?t[i][n]=[].concat(t[i][n],e):t[i][n]=e});break;default:t[i]||(t[i]=a[i])}});return t}var VNodeType={type:null,vnode:!0},styles={svg:"f-3z2",icon:"f-23m"},Icon={name:"f-icon",functional:!0,props:{name:{type:String,required:!0}},render:function(e,t){var n=t.props,i=t.data;e=createElement(e,styles,n);var a=n.name,r="$"===a[0];return a=r?a.substr(1):a,r?e("i",genFunctionalData(i,{styleName:"@svg"}),[e("svg",[e("use",{attrs:{"xlink:href":"#"+a}})])]):e("i",genFunctionalData(i,{styleName:"@icon",staticClass:a}))}},styles$1={button:"f-1c- f-m9L",icon:"f-2v8",plain:"f-2Hh",mini:"f-fzM",inline:"f-2XV f-vFB",disabled:"f-GhS","white-space":"f-1CC",default:"f-21t",primary:"f-3E-",success:"f-3eo",warning:"f-20p",danger:"f-rlQ",info:"f-1N5"},BUTTON_TYPES=["default","primary","success","warning","danger"],button={name:"f-button",functional:!0,props:{type:{type:String,default:BUTTON_TYPES[0],validtor:function(e){return BUTTON_TYPES.indexOf(e)>=0}},icon:String,mini:Boolean,plain:Boolean,inline:Boolean,disabled:Boolean,whiteSpace:Boolean},render:function(e,t){var n=t.props,i=t.data,a=t.children;e=createElement(e,styles$1,n);var r=n.icon&&e(Icon,{styleName:"@icon",attrs:{name:n.icon}});return e("a",genFunctionalData(i,{styleName:"@button $type :mini :plain :inline :disabled :white-space",attrs:{href:"javascript:;"}}),[r].concat(a||[]))}},customRenderer=function(e){return _reduce(e,function(e,t,n){var i="render"+_upperFirst(n);return e.props[i]=Function,e.methods["$"+i]=function(){return(this[i]||this.$scopedSlots[n]||t).apply(this,arguments)},e},{props:{},methods:{}})},VNodeType$1={type:null,vnode:!0},normalizePropVNode=function(e){return _isObjectLike(e)?e:_toString(e)},extractVNodes={VNodeType:VNodeType$1,computed:{VNodeProps:function(){return this.extractVNodeProps()}},methods:{extractVNodeProps:function(e){return void 0===e&&(e=this.$options.props),_reduce(e,function(e,t,n){return t.vnode&&e.push([n,t.slot||n]),e},[])},extractVNodes:function(e){var t=void 0===e?{}:e,n=t.VNodeProps,i=void 0===n?this.VNodeProps:n,a=t.slots,r=void 0===a?this.$slots:a,s=t.props,o=void 0===s?this.$props:s;return i.reduce(function(e,t){var n=t[0],i=t[1];return e[n]=r[i]||r[n]||normalizePropVNode(o[n]),e},{children:r.default})}}},styles$2={choice:"f-1sZ f-1wz",box:"f-2G7",selected:"f-28u",input:"f-oRD"},CHECKBOX=1,RADIO=2,AGREE=3,choice={name:"f-choice",alias:["f-checkbox","f-radio"],mixins:[CSSModules(styles$2),customRenderer({box:function(e){var t=e.selected;return this.$createElement(Icon,{attrs:{name:t?this.localSelectedIcon:this.localIcon}})}}),betterSync({prop:"selectedValue",event:"change"})],props:{selectedValue:{type:null,sync:!0},value:null,icon:String,selectedIcon:String},computed:{type:function(){var e=this.localSelectedValue;return _isBoolean(e)?AGREE:_isArray(e)?CHECKBOX:RADIO},nativeType:function(){return this.type===RADIO?"radio":"checkbox"},localIcon:function(){return this.icon||(this.type===RADIO?"f-icon-radiobox":"f-icon-checkbox")},localSelectedIcon:function(){return this.selectedIcon||(this.type===RADIO?"f-icon-radiobox-checked":"f-icon-checkbox-checked")},selected:function(){var e=this.type,t=this.localSelectedValue,n=this.value;return e===CHECKBOX?t.indexOf(n)>=0:t===n}},methods:{handleChange:function(e){var t,n=e.target.checked,i=this.type,a=this.localSelectedValue,r=this.value;i===CHECKBOX?(t=a.slice(),n?t.push(r):t.splice(t.indexOf(r),1)):t=i===AGREE?n:r,this.syncSelectedValue(t)}},render:function(e){return e("label",{styleName:"@choice :selected"},[e("input",{styleName:"input",attrs:{type:this.nativeType},domProps:{checked:this.selected},on:{change:this.handleChange}}),e("div",{styleName:"box"},[this.$renderBox({selected:this.selected})]),this.$slots.default])}},styles$3={divider:"f-xyS f-m9L",inner:"f-35o f-m9L",body:"f-3FL",line:"f-1_8"},divider={name:"f-divider",functional:!0,props:{color:String,width:String},render:function(e,t){var n=t.props,i=t.data,a=t.children;e=createElement(e,styles$3,n);var r=n.width&&{width:n.width},s={color:n.color};return e("div",genFunctionalData(i,{styleName:"@divider"}),[e("div",{styleName:"inner",staticStyle:r},[e("div",{styleName:"line",staticStyle:s}),e("div",{styleName:"body"},[a]),e("div",{styleName:"line",staticStyle:s})])])}},styles$4={top:"f-EBU",bottom:"f-2Ze",left:"f-WJM",right:"f-1Bk",hairline:"f-3L6"},PLACEMENT_PROPS={top:Boolean,right:Boolean,bottom:Boolean,left:Boolean},PLACEMENTS=Object.keys(PLACEMENT_PROPS),Hairline={name:"f-hairline",functional:!0,props:Object.assign({tag:{type:String,default:"div"},color:String,all:Boolean},PLACEMENT_PROPS),render:function(e,t){var n=t.props,i=t.data,a=t.children;e=createElement(e,styles$4,n);var r=n.all?PLACEMENTS:PLACEMENTS.filter(function(e){return n[e]}),s={color:n.color},o=r.map(function(t){return e("div",{styleName:"@line "+t,style:s})});return e(n.tag,genFunctionalData(i,{styleName:"@hairline"}),[o].concat(a||[]))}},styles$5={item:"f-Kwb f-2Pe",gap:"f-2gh",body:"f-24g f-ZhX f-2gh",left:"f-3Wx f-ZhX",right:"f-3-c f-ZhX",middle:"f-BcZ f-ZhX f-2gh",info:"f-Fn2 f-ZhX f-2gh",outline:"f-2Pe",desc:"f-6W3",extra:"f-1-K",note:"f-2vR",arrow:"f-1Re"},ARROWS=["right","down","left","up"],propDescriptors={header:VNodeType,body:VNodeType,footer:VNodeType,left:VNodeType,right:VNodeType,icon:VNodeType,title:Object.assign({},VNodeType,{slot:"default"}),desc:VNodeType,extra:VNodeType,note:VNodeType,tag:{type:String,default:"div"},infoWidth:String,arrow:{type:[Boolean,String],default:!1,validator:function(e){return _isBoolean(e)||ARROWS.indexOf(e)>=0}}},VNodeProps=extractVNodes.methods.extractVNodeProps(propDescriptors),Item={name:"f-item",alias:["f-list-item"],functional:!0,props:propDescriptors,render:function(e,t){var n=t.props,i=t.data,a=t.slots;e=createElement(e,styles$5,n);var r=extractVNodes.methods.extractVNodes({slots:a(),props:n,VNodeProps:VNodeProps}),s=r.header,o=r.body,l=r.footer,u=r.left,c=r.right,d=r.icon,f=r.title,p=r.desc,h=r.extra,m=r.note,y=_isBoolean(n.arrow)?n.arrow&&"right":n.arrow;return e(Hairline,genFunctionalData(i,{styleName:"@item",attrs:{bottom:!0}}),[s&&e("div",{styleName:"@header"},[s]),e("div",{styleName:"@body"},[o||[u&&e("div",{styleName:"@left"},[u]),e("div",{styleName:"@middle"},[f&&e("div",{styleName:"@info",style:"width: "+n.infoWidth+";"},[d&&e("div",{styleName:"@icon"},[_isString(d)?e(Icon,{attrs:{name:d}}):d]),f&&e("div",{styleName:"@outline"},[e("div",{styleName:"@title"},[f]),p&&e("div",{styleName:"@desc"},[p])])]),h&&e("div",{styleName:"@extra"},[h])]),Boolean(m||c)&&e("div",{styleName:"@right"},[m&&e("div",{styleName:"@note"},[m]),c]),e(Icon,{styleName:"@arrow",style:"display: "+(y?"block":"none")+";",attrs:{name:"f-icon-arrow-"+(y||"right")}})]]),l&&e("div",{styleName:"@footer"},[l])])}},styles$6={field:"f-39J"},field={name:"f-field",alias:["f-form-item"],inheritAttrs:!1,inject:{Form:{default:null}},provide:function(){return{Field:this}},mixins:[extractVNodes,CSSModules(styles$6)],props:{label:VNodeType,labelWidth:{type:String,default:function(){return this.Form?this.Form.labelWidth:"4.5em"}}},render:function(e){var t=this.extractVNodes().label;return e(Item,{styleName:"@field",attrs:Object.assign({},this.$attrs,{infoWidth:this.labelWidth,title:t,extra:this.$slots.default})})}},styles$7={list:"f-1b6",offset:"f-E_M"},List={name:"f-list",functional:!0,props:{tag:{type:String,default:"div"},border:{type:Boolean,default:!0},offset:{type:Boolean,default:!0}},render:function(e,t){var n=t.props,i=t.data,a=t.children;e=createElement(e,styles$7,n);var r=Boolean(n.border);return e(Hairline,genFunctionalData(i,{styleName:"@list :offset",attrs:{tag:n.tag,top:r,bottom:r}}),a)}},styles$8={},form={name:"f-form",inheritAttrs:!1,provide:function(){return{Form:this}},mixins:[betterSync({prop:"model",event:"change"}),CSSModules(styles$8)],props:{labelWidth:{type:String,default:"4.5em"},model:{type:Object,sync:!0},rules:Object},render:function(e){return e(List,{styleName:"@form",attrs:Object.assign({},this.$attrs,{tag:"form"})},this.$slots.default)}},styles$9={input:"f-389 f-1Xw"},Input={name:"f-input",mixins:[betterSync({prop:"value",event:"input"}),CSSModules(styles$9)],props:{tag:{type:String,default:"input"},value:{type:[String,Number],sync:!0},type:{type:String,default:"text"},validator:Function,lazy:{type:Boolean,default:!0}},methods:{transformValue:function(e,t){if(t)return e;if("number"===this.type){var n=e.newValue.trim();""!==n&&(e.newValue=_toNumber(n))}return e},handleInput:function(e){var t=e.target.value;_isFunction(this.validator)?this.validator(t,e)?this.syncValue(t):e.target.value=this.localValue:this.syncValue(t)}},render:function(e){var t;return e(this.tag,{styleName:"@input",attrs:{type:this.type},domProps:{value:this.localValue},on:(t={},t[this.lazy?"change":"input"]=this.handleInput,t)})}},styles$10={"input-number":"f-27h f-ZhX",block:"f-jcQ f-1Ac","input-box":"f-2HZ",disabled:"f-27r",input:"f-2ZX",button:"f-ZDK"},INPUT_NUMBER_TYPES=["default","primary","success","warning","danger"],inputNumber={name:"f-input-number",mixins:[betterSync({prop:"value",event:"input"}),CSSModules(styles$10)],props:{type:{type:String,default:INPUT_NUMBER_TYPES[0],validtor:function(e){return INPUT_NUMBER_TYPES.indexOf(e)>=0}},value:{type:[String,Number],sync:!0},min:{type:Number,default:Number.MIN_VALUE},max:{type:Number,default:Number.MAX_VALUE},step:{type:Number,default:1},disableInput:Boolean,block:Boolean,disabled:Boolean},computed:{minusDisabled:function(){return this.disabled||this.localValue-this.step<this.min},plusDisabled:function(){return this.disabled||this.localValue+this.step>this.max},Minus:function(){return this.$createElement("a",{styleName:"@minus button disabled=minusDisabled",attrs:{href:"javascript:;"},on:{click:this.handleMinus}},[this.$createElement(Icon,{attrs:{name:"f-icon-minus-empty"}})])},Plus:function(){return this.$createElement("a",{styleName:"@plus button disabled=plusDisabled",attrs:{href:"javascript:;"},on:{click:this.handlePlus}},[this.$createElement(Icon,{attrs:{name:"f-icon-plus-empty"}})])},InputBox:function(){return this.$createElement("div",{styleName:"@input-box :disabled"},[this.$createElement(Input,{styleName:"@input",attrs:{type:"number",readonly:this.disableInput,validator:this.validateValue},model:{value:this.localValue,callback:this.syncValue},ref:"input"})])}},methods:{transformValue:function(e){return e.newValue=_toNumber(e.newValue),e},handleMinus:function(){this.syncValue(this.localValue-this.step)},handlePlus:function(){this.syncValue(this.localValue+this.step)},validateValue:function(e){return e>=this.min&&e<=this.max}},render:function(e){return e("div",{styleName:"@input-number :block"},[this.Minus,this.InputBox,this.Plus])}},styles$11={select:"f-1rW f-1Xw"},select={name:"f-select",mixins:[betterSync({prop:"value",event:"change"}),CSSModules(styles$11)],props:{value:{type:null,sync:!0},data:{type:Array,required:!0}},data:function(){return{lastSelectedIndex:null}},computed:{selectedIndex:function(){return null!==this.lastSelectedIndex?this.lastSelectedIndex:_findIndex(this.data,["value",this.localValue])},Options:function(){var e=this;return this.data.map(function(t){return e.$createElement("option",{attrs:{disabled:t.disabled}},[t.label])})}},methods:{handleChange:function(e){var t=e.target.selectedIndex;-1!==t&&this.data[t]&&(this.lastSelectedIndex=t,this.syncValue(this.data[t].value))}},render:function(e){return e("select",{styleName:"@select",domProps:{selectedIndex:this.selectedIndex},on:{change:this.handleChange}},this.Options)}},styles$12={switch:"f-fDD",on:"f-3bg",disabled:"f-TLD"},_switch={name:"f-switch",mixins:[betterSync({prop:"value",event:"change"}),CSSModules(styles$12)],props:{value:{type:null,sync:!0},beforeChange:Function,valueMap:{type:Object,default:function(){return{on:!0,off:!1}},validator:function(e){return _has(e,"on")&&_has(e,"off")}},disabled:Boolean},methods:{transformValue:function(e,t){var n=this;return _mapValues(e,function(e){return t?n.valueMap.on===e:n.valueMap[e?"on":"off"]})},done:function(){this.syncValue(!this.actualValue)},handleClick:function(){this.disabled||(this.beforeChange?this.beforeChange(this.done):this.done())}},render:function(e){return e("div",{styleName:"@switch on=actualValue :disabled",on:{click:this.handleClick}})}},styles$13={},textarea={name:"f-textarea",inheritAttrs:!1,mixins:[betterSync({prop:"value",event:"input"}),CSSModules(styles$13)],props:{value:{type:[String,Number],sync:!0},rows:{type:[Number,String],default:2},autoSize:Boolean},methods:{onValueChange:function(){this.resize()},resize:function(){var e=this;this.$nextTick(function(){var t=e.$refs.textarea.$el;e.autoSize?e.autoSizeInited?autoSize.update(t):(e.autoSizeInited=!0,autoSize(t)):(e.autoSizeInited=!1,autoSize.destroy(t))})}},watch:{autoSize:{immediate:!0,handler:"resize"}},render:function(e){return e(Input,{styleName:"@textarea",attrs:Object.assign({},this.$attrs,{tag:"textarea",rows:this.rows}),model:{value:this.localValue,callback:this.syncValue},ref:"textarea"})}},components=Object.freeze({button:button,choice:choice,divider:divider,field:field,form:form,hairline:Hairline,icon:Icon,input:Input,inputNumber:inputNumber,item:Item,list:List,select:select,switch:_switch,textarea:textarea});function install(e){install.installed||(e.prototype.$log=console.log,_forOwn(components,function(t){t.alias&&_castArray(t.alias).forEach(function(n){return e.component(n,t)}),e.component(t.name,t)}),install.installed=!0)}Object.defineProperty(components,"install",{value:install}),module.exports=components;
